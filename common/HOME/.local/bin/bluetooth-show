#!/usr/bin/env bash

if rfkill --output TYPE,SOFT | grep "bluetooth" | grep -q "unblocked"; then
    sleep 2 # bluetoothd needs some time
    if bluetoothctl show | grep -q "Powered: yes"; then
        notify-send -a "bluetooth" -i "/usr/share/icons/Adwaita/symbolic/status/bluetooth-active-symbolic.svg" "Bluetooth enabled"
    else
        notify-send -a "bluetooth" -i "/usr/share/icons/Adwaita/symbolic/status/bluetooth-disabled-symbolic.svg" "Bluetooth disabled"
    fi
else
    notify-send -a "bluetooth" -i "/usr/share/icons/Adwaita/symbolic/status/bluetooth-hardware-disabled-symbolic.svg" "Bluetooth blocked"
fi
